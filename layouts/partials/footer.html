<footer id="footer" role="contentinfo">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                &copy; {{ now.Format "2006"}} <a href="{{ .Site.BaseURL }}">{{ .Site.Title}}
                </a>.
                <a target="_blank" href="https://gohugo.io">Hugo</a> & <a target="_blank"
                    href="https://github.com/Twor/hugo-angus">Angus</a>
            </div>
        </div>
    </div>
</footer>

<script src="/js/jquery.min.js"></script>
<script src="/js/prism.js"></script>
<script src="/js/zoom-vanilla.min.js"></script>
<script src="/js/fuse.js"></script> <!-- download and copy over fuse.js file from fusejs.io -->
<script src="/js/search.js"></script>
<script>
    var str = "{{.Site.Params.logo}}".split('').reverse().join('');
    for (i = 0; i < str.length; i++) {
        if (str.charAt(i) == '|') {
            $('<a href="{{ .Site.BaseURL }}"><span class="w">' + str.charAt(i) + '</span></a>').prependTo($(".header-logo"));
        } else {
            $('<span class="b">' + str.charAt(i) + '</span>').prependTo($(".header-logo"));
        }

    }
    "{{- if .Site.Params.isIconNav -}}"
    var b = document.getElementsByClassName('b');
    var w = document.getElementsByClassName('w');
    var menupgMargin = (b.length + w.length + 1) * 28;
    var srhboxMargin = (b.length + w.length + 4) * 28;
    var menusrhWidth = (b.length + w.length - 1) * 28;
    document.getElementById('menu-page').style['margin-left'] = menupgMargin + 'px';
    document.getElementById('search-box').style['margin-left'] = srhboxMargin + 'px';
    document.getElementById('menu-search').style['width'] = menusrhWidth + 'px';
    if (menusrhWidth < 140) {
        document.getElementById('menu-search').setAttribute('placeholder', 'Search~');
    }
    "{{- end -}}"

    $(document).ready(function () {
        $("#menu-search").keydown(function (e) {
            if (e.keyCode == 13) {
                var searchString = $("#menu-search").val();
                var url = "{{ .Site.BaseURL }}" + "search?s=" + searchString;
                window.location.href = url;
            }
        });
    });

    function isMenu() {
        if (document.getElementById('menu-1').style.display == 'inline') {
            $('#search-box').fadeOut(200);
            $('#menu-page').fadeOut(200);
            $('#menu-1').fadeOut(500);
            $('#menu-2').fadeOut(400);
            $('#menu-3').fadeOut(300);
        } else {
            $('#menu-1').fadeIn(150);
            $('#menu-2').fadeIn(150);
            $('#menu-3').fadeIn(150);
        }
    }

    function isMenu1() {
        if (document.getElementById('menu-page').style.display == 'block') {
            $('#menu-page').fadeOut(400);
        } else {
            $('#menu-page').fadeIn(400);
        }
    }

    // function isMenu2(c = 'none') {
    //     if (document.getElementById('torTree')) {
    //         if ($("#torTree").attr('style') == 'display: none;') {
    //             $("#torTree").fadeIn(300);
    //             $("#torTree").css('display', 'inline-block');
    //         } else {
    //             $("#torTree").fadeOut(300);
    //         }
    //     } else {
    //         if (c != 'auto') {
    //             alert('人家是导航树哦！只有在特定的文章页面才会出现的。');
    //         }
    //     }
    // }

    function isMenu3() {
        if (document.getElementById('search-box').style.display == 'block') {
            $('#search-box').fadeOut(400);
        } else {
            $('#search-box').fadeIn(400);
        }
    }

    function Search404() {
        $('#menu-1').fadeIn(150);
        $('#menu-2').fadeIn(150);
        $('#menu-3').fadeIn(150);
        $('#search-box').fadeIn(300);
    }



    // "{{- if .Site.Params.isTorTree -}}"
    // isMenu2('auto');
    // "{{- end -}}"

    function footerPosition() {
        $("footer").removeClass("fixed-bottom");
        var contentHeight = document.body.scrollHeight,
            winHeight = window.innerHeight;
        if (document.getElementsByClassName("post-content")[0]) {
            var winImgNum = document.getElementsByClassName("post-content")[0].getElementsByTagName("img").length;
        } else {
            var winImgNum = 0;
        }
        if (!(contentHeight > winHeight) && winImgNum == 0) {
            $("footer").addClass("fixed-bottom");
        }
    }
    footerPosition();
    $(window).resize(footerPosition);
</script>
<script>

    // loadSearch('test')

    // executeSearch('test1')

    // // 数据
    // const data = [
    //     {
    //         "title": "hello world",
    //     },
    //     {
    //         "title": "你好，世界",
    //     }
    // ];


    // // 弄一个实例
    // const fuse = new Fuse(data, {
    //     // 自定义需要搜索的字段
    //     keys: ["title"]
    // });

    // // 执行搜索
    // const result = fuse.search('world');
    // console.log(result);
</script>

</body>

</html>